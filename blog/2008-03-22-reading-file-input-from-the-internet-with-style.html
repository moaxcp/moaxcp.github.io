<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Reading File Input from the Internet with Style</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../">johnmercier.com</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Blog</a></li>
            <li><a href="../archive.html">Archive</a></li>
            <!--<li><a href="../about.html">About</a></li>-->
            <li><a href="../feed.xml">Subscribe</a></li>
            <!--
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
            -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">	
	<div class="page-header">
		<h1>Reading File Input from the Internet with Style</h1>
	</div>

	<p><em>22 March 2008</em></p>

	<p><div class="paragraph">
<p><span class="image"><img src="/images/parserstream.png" alt="parserstream"></span></p>
</div>
<div class="paragraph">
<p>Parsing Problem: Write a ParserStream that can parse tag attributes and
simple text patterns. The Stream must also be able to replace those
attributes with what the programmer wants.</p>
</div>
<div class="paragraph">
<p>Solution: The picture is a diagram of my solution (made with
<a href="http://live.gnome.org/Dia" class="bare">http://live.gnome.org/Dia</a>).</p>
</div>
<div class="paragraph">
<p>Decorator Pattern: I got the idea to use the decorator pattern from
"Head First Design Patterns". There is a great example of a Java I/O
decorator that converts it&#8217;s input into lower case. This is the basic
pattern that I started with and it grew from there. The main idea is to
replace calls to read() with my own methods. My own methods of read
will parse and replace the attributes. More on that later.</p>
</div>
<div class="paragraph">
<p>Factory Pattern: The next chapter in Head First Design Patterns
discusses the Factory Pattern. I use the Factory Pattern to return the
ParserStream that works with each of the different content types that I
would like to parse (html, jpeg, text). In order to create one of these
Streams the Factory has to have the content type, the input stream for
the content, and the two interfaces for storing the parsed attributes
and replacing the attributes.</p>
</div>
<div class="paragraph">
<p>Interface Pattern: I&#8217;m not sure if this is a more specific pattern but
the basic idea is to allow the implementation of storing and
overwriting the parsed attributes to be programmable. The parser
interface is used to store attributes. The information passed to it
will allow the programmer to determine the type of attribute
(src, href) and the original value of the attribute before it is
replaced by the formatting interface. The formattingInterface is used
to change the attributes to whatever the programmer wants.</p>
</div>
<div class="paragraph">
<p>Application: The main reason why I made this is so I can make programs
that download web pages and store them locally and crawl to all the
source files for each link. In order for the html to link properly on
the local computer the src and href attribute values have to be
changed. I&#8217;m not sure if I will need to parse jpeg or text files but
the capability is there.</p>
</div>
<div class="paragraph">
<p>Things to change: The only problem I see with this approach is that if
I want to search for new attributes I will have to rewrite the
ParserStream itself. While this is fine for me to do the class wouldn&#8217;t
not be versatile in a library. One thing I will look into is making the
attribute strings that the parser looks for work like Regular
Expressions. I&#8217;m sure there is a way to do it but for now this will
work.</p>
</div></p>

    <div id="disqus_thread"></div>
    <script>

    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = 'http://johnmercier.com/blog/2008-03-22-reading-file-input-from-the-internet-with-style.html';  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = 'blog/2008-03-22-reading-file-input-from-the-internet-with-style.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://moaxcp.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	<hr />
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.5.1</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    
  </body>
</html>